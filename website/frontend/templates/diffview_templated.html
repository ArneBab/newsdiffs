<html>
  <head>
    <title>
      News Differ
    </title>
    
        <!-- Requires jQuery -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
        <!-- Optional jquery.corner for rounded buttons -->
        <script src="jquery.corner.js" type="text/javascript"></script>
        
        <!-- Requires CodeMirror 2.16 -->
        <script type="text/javascript" src="static/lib/codemirror.min.js"></script>
        <link type="text/css" rel="stylesheet" href="static/lib/codemirror.css" />
        
        <!-- Requires Mergely -->
        <script type="text/javascript" src="static/lib/mergely.js"></script>
        <link type="text/css" rel="stylesheet" href="static/lib/mergely.css" />


                <script type="text/javascript">

        $(document).ready(function () {
                        $('#compare').mergely({
                                cmsettings: { readOnly: false, lineWrapping: true }
                        });
                        $.ajax({
                                type: 'GET', async: true, dataType: 'text',
                                url: '{{url1}}',
                                success: function (response) {
                                        $('#compare').mergely('lhs', response);
                                }
                        });
                        $.ajax({
                                type: 'GET', async: true, dataType: 'text',
                                url: '{{url2}}',
                                success: function (response) {
                                        $('#compare').mergely('rhs', response);
                                }
                        });
                });
        </script>


  </head>
  <body>
    <h1>News Differ: {{title}}</h1>
    <ul>
      <li>Left: {{date1}}</li>
      <li>Right: {{date2}}</li>
    </ul>
    <form action="{{form_action}}" method=POST>
      <input type=hidden name=article_url value={{article_url}}>
      <input type=hidden name=diff_v1 value={{v1}}>
      <input type=hidden name=diff_v2 value={{v2}}>
      <input type=submit name=submit value="This is fascinating!">
    </form>
    <div id="mergely-resizer">
      <div id="compare">
      </div>
    </div>
  </body>
</html>
